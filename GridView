
//添加编辑/删除按钮；
<asp:GridView ID="GridView1" runat="server" AutoGenerateDeleteButton="True" AutoGenerateEditButton="True" OnRowEditing="GridView1_RowEditing" OnRowUpdating="GridView1_RowUpdating" AutoGenerateColumns="False" OnRowCancelingEdit="GridView1_RowCancelingEdit" OnRowDataBound="GridView1_RowDataBound" OnRowDeleting="GridView1_RowDeleting" AllowPaging="True" CellPadding="4" ForeColor="#333333" GridLines="None" OnPageIndexChanging="GridView1_PageIndexChanging">
                        <AlternatingRowStyle BackColor="White" />
                        <Columns>
                            <asp:BoundField DataField="Name" HeaderText="Name" />
                            <asp:BoundField DataField="fblstream" HeaderText="fblstream" />
                        </Columns>
                        <EditRowStyle BackColor="#2461BF" />
                        <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                        <HeaderStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                        <PagerStyle BackColor="#2461BF" ForeColor="White" HorizontalAlign="Center" />
                        <RowStyle BackColor="#EFF3FB" />
                        <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
                        <SortedAscendingCellStyle BackColor="#F5F7FB" />
                        <SortedAscendingHeaderStyle BackColor="#6D95E1" />
                        <SortedDescendingCellStyle BackColor="#E9EBEF" />
                        <SortedDescendingHeaderStyle BackColor="#4870BE" />
                    </asp:GridView>
========================================================================================================================
//取消编辑
 protected void GridView1_RowCancelingEdit(object sender, GridViewCancelEditEventArgs e)
        {
            GridView1.EditIndex = -1;
            BindData();
        }
 //更新行数据       
 protected void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
        {
            //Update the values.
            ProcessCLass.XMLEditor xmlEditor = new ProcessCLass.XMLEditor();
            string newName = ((TextBox)(GridView1.Rows[e.RowIndex].Cells[1].Controls[0])).Text;
            string newFblstream = ((TextBox)(GridView1.Rows[e.RowIndex].Cells[2].Controls[0])).Text;

            //Reset the edit index.
            GridView1.EditIndex = -1;

            //Bind data to the GridView control.            
            UpdateAndBind(e.RowIndex, newName, newFblstream);
        }
        
//编辑行数据 
 protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e)
        {
            GridView1.EditIndex = e.NewEditIndex;
            BindData();
        }
        
//翻页
 protected void GridView1_PageIndexChanging(object sender, GridViewPageEventArgs e)
        {
            GridView1.PageIndex = e.NewPageIndex;
            BindData();
        }
        
//删除行 
 protected void GridView1_RowDeleting(object sender, GridViewDeleteEventArgs e)
        {
            ProcessCLass.XMLEditor XMLEditor = new ProcessCLass.XMLEditor();
            string type = ddlType.SelectedValue;
            string language = ddlLanguage.SelectedValue;
            string category = ddlCategory.SelectedValue;
            string name = "";
            if (ddlCategory.Items.Count > 1)
            {
                name = "SMDandVS_" + language + "_Standalone_SD_LanguagePack_" + type + "_Test.xml";
            }
            else
            {
                name = category + "_" + language + "_Standalone_SD_LanguagePack_" + type + "_Test.xml";
            }

            string theName = GridView1.Rows[e.RowIndex].Cells[1].Text;
            string Fblstream = GridView1.Rows[e.RowIndex].Cells[2].Text;

            string ret = XMLEditor.RemoveCorpus(path + name, theName, Fblstream, category);
            if (ret != "succeed.")
            {
                Page.ClientScript.RegisterStartupScript(Page.GetType(), "message", "<script language='javascript' defer>alert('" + ret + "！');</script>");
                return;
            }
            BindData();
        }
                    
                    
                    
